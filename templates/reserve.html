<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Reserve</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/jquery-ui.min.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/bootstrap.min.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/bootstrap-theme.min.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/jquery-ui-slider-pips.min.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/reserve.css') }}">

    <script type="text/javascript" src="{{ url_for('static', filename='js/jquery.min.js') }}"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='js/jquery-ui.min.js') }}"></script>
	<script type="text/javascript" src="{{ url_for('static', filename='js/reserve.js') }}"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='js/jquery-ui-slider-pips.js') }}"></script>
</head>
<body>

<!--导航条-->
<nav class="navbar navbar-default navbar-static-top">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar"
                    aria-expanded="false" aria-controls="navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#">Parking Lot</a>
        </div>
        <div class="navbar-collapse collapse navbar-right" id="navbar">
            <ul class="nav navbar-nav head-nav">
                <li class="active">
                    <a href="#">Home</a>
                </li>
                <li>
                    <a href="#">Reserve</a>
                </li>
                <li>
                    <a href="#">Settings</a>
                </li>
                <li>
                    <a href="#">Help</a>
                </li>
            </ul>
        </div>
    </div>
</nav>


<div class="container">
    <!--日期选择器-->
	{% if not result %}
	<form id="reserve-form" action="/reserver" method="post">
	{% else %}
	<form id="reserve-form" action="/change/{{ result.ID }}" method="post">
	{% endif %}
        <div class="form-item form-group">
            <label for="picker" class="form-label">Reserve date</label>
			{% if not result %}
            <input type="text" name="picker"  id="picker" readonly="true" class="form-control">
			{% else %}
			<input type="text" name="picker"  id="picker" readonly="true" class="form-control" value="{{ result.ProduceTime }}">
			{% endif %}
        </div>
        <div class="form-item form-group">
            <label for="slider" class="form-label">Time interval</label>
            <input type="text" name="slider_value" id="slider_value" readonly="true"
                   style="border:0; color:#f6931f; background:white; font-weight:bold;">
			{% if not result %}
			<input type="hidden" id="time-from" readonly="true" >
			<input type="hidden" id="time-to" readonly="true" >
			{% else %}
			<input type="hidden" id="time-from" readonly="true" value="{{ result.StartTime }}">
			<input type="hidden" id="time-to" readonly="true" value="{{ result.EndTime }}">
			{% endif %}
            <div id="slider" class="slider"></div>
        </div>
        <div class="form-item form-group">
            <label for="plate" class="form-label">Plate number</label>
            <input type="text" name="plate" id="plate" class="form-control">
        </div>

        {% with messages = get_flashed_messages(with_categories=true) %} {# 添加消息闪现 #}
            {% if messages %}
                {% for category,message in messages %}
                    <p class="{{ category }}" style="font-size: 14px; color:#FF0000;align-content: center">{{ message }}</p> {# category 为消息闪现类型 #}
                {% endfor %}
            {% endif %}
        {% endwith %}
		
		
		{% if not result %}
        <button class="btn btn-lg btn-primary btn-block" type="submit">reserve</button>
		{%  else %}
        <button class="btn btn-lg btn-primary btn-block" type="submit">change</button>
		{% endif %}
    </form>
</div>

</body>
</html>
